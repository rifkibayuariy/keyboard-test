$((()=>{const e=$(".keyboards > .tabs"),n=$(".keyboards > .contents"),a=$(".keyboards > .info > .type .text");keyboard.type.map((a=>{e.append(`<button class="tab" type="${a.name}">${keyboard.icons[a.icon]}</button>`),n.append(`<div class="keyboard ${a.name}""></div>`),keyboard[a.name].map((e=>{const t=e.size.toString().split(".").join(""),o=e.keyCode,i=e.location;var s=e.key;margin=ver="",e.icon&&(icon=e.icon.split("|"),2==icon.length?s=keyboard.icons[icon[0]][icon[1]]:1==icon.length&&(s=keyboard.icons[e.icon])),((107==o||13==o&&3==e.location)&&"windows"==a.name||13==o&&"mac"==a.name&&3==e.location)&&(ver="-ver"),0!==e.right&&(margin=` mr-${e.right.toString().split(".").join("")}u`),91==o&&"windows"==a.name&&(s=keyboard.icons[a.name]),n.find(`.keyboard.${a.name}`).append(`<div class="keycaps key-${o}-${i} s-${t}u${ver}${margin}"><span>${s}</span></div>`)}))})),e.find(".tab:first").addClass("active"),n.find(".keyboard:first").addClass("active"),e.on("click",".tab",(t=>{const o=$(t.currentTarget);e.find(".tab").removeClass("active"),o.addClass("active"),n.find(".keyboard").removeClass("active"),n.find(`.keyboard.${o.attr("type")}`).addClass("active"),a.html(o.attr("type"))})),$(document).on("keydown",(e=>{e.preventDefault();const a=e.keyCode,t=e.originalEvent.location,o=n.find(".active");o.find(".key-"+a+"-"+t).removeClass("active"),o.find(".key-"+a+"-"+t).addClass("press")})),$(document).on("keyup press",(e=>{e.preventDefault();const a=e.keyCode,t=e.originalEvent.location,o=n.find(".active");o.find(".key-"+a+"-"+t).removeClass("press"),o.find(".key-"+a+"-"+t).addClass("active")})),$(document).on("mousedown",(e=>{e.preventDefault();const a=e.button,t=n.find(".active");t.find(".key-m-"+a+"-0").removeClass("active"),t.find(".key-m-"+a+"-0").addClass("press")})),$(document).on("mouseup",(e=>{e.preventDefault();const a=e.button,t=n.find(".active");t.find(".key-m-"+a+"-0").removeClass("press"),t.find(".key-m-"+a+"-0").addClass("active")})),$(document).bind("contextmenu",(()=>!1))}));